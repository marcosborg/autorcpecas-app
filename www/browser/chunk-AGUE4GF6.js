import{a as J,b as K}from"./chunk-6RIQF3XD.js";import"./chunk-AEZTMUAG.js";import{G as T,K as P,L as k,M as V,S as E,U as W,V as j,W as B,X as N,Y as F,Z as A,_ as D,aa as H,ba as O,c as x,da as R,e as d,f as m,g,ga as U,h as a,i as y,j as _,ja as z,k as s,l,m as M,ma as q,n as h,na as G,o as v,p as c,r as p,t as C,u as I,v as w,w as S,y as b,z as L}from"./chunk-CEFJHDG2.js";import"./chunk-IQNCHDZD.js";import"./chunk-V4Z7YT6R.js";import"./chunk-UHCRRYBY.js";import"./chunk-4PGTP63H.js";import"./chunk-QO6X3PUD.js";import"./chunk-HC6MZPB3.js";import"./chunk-N3PT3BRI.js";import"./chunk-7JAEJH63.js";import"./chunk-FERD25SW.js";import"./chunk-SYQESB6R.js";import"./chunk-LEIMCQKJ.js";import"./chunk-MM5QLNJM.js";import"./chunk-72KDLSWN.js";import"./chunk-5OMUW5VI.js";import"./chunk-OBXDPQ3V.js";import"./chunk-F2COMJ2U.js";import"./chunk-MCRJI3T3.js";import"./chunk-P5GPMOSE.js";import"./chunk-NGJP4CJH.js";import"./chunk-3TXEPWZY.js";import"./chunk-YTQOYWXA.js";import"./chunk-PUKYQ4VT.js";import"./chunk-G3CV3VGG.js";import"./chunk-UMQDWHM2.js";import"./chunk-PB7KHMCD.js";import"./chunk-5FWCUKLR.js";import"./chunk-4U6PRYVA.js";import"./chunk-QXT6YJJ4.js";import"./chunk-JWIEPCRG.js";import"./chunk-QPVVTFFW.js";import"./chunk-J6ICYO4L.js";import"./chunk-LF5XB4YN.js";import"./chunk-RW4GY4BD.js";function Q(i,o){if(i&1){let r=h();s(0,"ion-content")(1,"ion-card"),M(2,"ion-img",1),s(3,"ion-card-header")(4,"ion-card-title"),p(5,"Card Title"),l(),s(6,"ion-card-subtitle"),p(7,"Card Subtitle"),l()(),s(8,"ion-card-content")(9,"ion-list")(10,"ion-item")(11,"ion-input",2),w("ngModelChange",function(e){d(r);let t=c();return I(t.email,e)||(t.email=e),m(e)}),l()(),s(12,"ion-item",3)(13,"ion-input",4),w("ngModelChange",function(e){d(r);let t=c();return I(t.password,e)||(t.password=e),m(e)}),l()()()()()()}if(i&2){let r=c();g(11),C("ngModel",r.email),g(2),C("ngModel",r.password)}}function X(i,o){if(i&1){let r=h();s(0,"ion-footer")(1,"ion-toolbar",5)(2,"ion-button",6),v("click",function(){d(r);let e=c();return m(e.login())}),p(3,"Login"),l()()()}}var ce=(()=>{let o=class o{constructor(n,e,t,f,u){this.loadingController=n,this.api=e,this.alertController=t,this.preferences=f,this.router=u,this.email="marcosborges@netlook.pt",this.password="Leonor(2024)",this.screen=!1}ngOnInit(){this.preferences.checkName("access_token").then(n=>{n.value?this.router.navigateByUrl("/references"):this.screen=!0})}login(){this.loadingController.create().then(n=>{n.present();let e={email:this.email,password:this.password};this.api.login(e).subscribe(t=>{n.dismiss(),this.preferences.setName("access_token",t.access_token).then(()=>{this.router.navigateByUrl("/references")})},t=>{n.dismiss();let f=t.error.message;this.alertController.create({header:"Erro de valida\xE7\xE3o",message:f,buttons:[{text:"Repetir",role:"cancel"}]}).then(u=>{u.present()})})})}};o.\u0275fac=function(e){return new(e||o)(a(G),a(J),a(q),a(K),a(T))},o.\u0275cmp=x({type:o,selectors:[["app-login"]],standalone:!0,features:[S],decls:2,vars:2,consts:[[4,"ngIf"],["src","../../assets/logo.png"],[3,"ngModelChange","ngModel"],["lines","none"],["type","password",3,"ngModelChange","ngModel"],["color","danger"],["size","large","expand","full","fill","clear",1,"login-button",3,"click"]],template:function(e,t){e&1&&y(0,Q,14,2,"ion-content",0)(1,X,4,0,"ion-footer",0),e&2&&(_("ngIf",t.screen),g(),_("ngIf",t.screen))},dependencies:[A,U,L,b,V,P,k,W,B,F,N,j,H,R,O,z,D,E],styles:[".login-button[_ngcontent-%COMP%]{--color: white}"]});let i=o;return i})();export{ce as LoginPage};
